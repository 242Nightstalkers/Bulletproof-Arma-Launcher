# Section: Screen for settings and configuration

<MenuLayout@BoxLayout>
    padding: [20, 0]
    y: 50
    height: 80
    size_hint: 1, None
    orientation: 'horizontal'

<BackButton@HoverButton>
    on_release: app.root.ids.main_screen_manager.current = 'install_screen'
    text: 'BACK'

<BaseTextInput@TextInput>
    background_color: 0.3, 0.3, 0.3, 0.7
    foreground_color: 0.9, 0.9, 0.9, 1

<BaseNumberInput@NumberInput>
    background_color: 0.3, 0.3, 0.3, 0.7
    foreground_color: 0.9, 0.9, 0.9, 1

<PrefScreen>:
    name: 'pref_screen'
    #background_color: 0.3, 0.3, 0.3, 1
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.7
        Rectangle:
            pos: 0, 143
            size: self.size[0], 600

    MenuLayout:
        Widget
        BackButton:

    BoxLayout:  # Settings contents
        padding: 21  # Workaround: if equal to 20 artifacts start to show up
        orientation: 'vertical'
        size_hint: 1, None
        top: root.top
        height: 524

        BoxLayout:  # Mods location
            orientation: 'horizontal'
            size_hint_y: None
            height: 60
            Label:
                text: 'Mods Directory:'
                text_size: self.width, self.height
                halign: 'left'
                width: 200
                size_hint_x: None
                pos_hint: { 'center_y': 0.7 } # Change or remove this if you're changing the label's text

            BaseTextInput:
                id: path_text_input
                text: 'some/path/to/the/mods/dir'
                multiline: False
                text_size: self.width, self.height
                font_size: 20
                height: 40
                width: 660
                size_hint: None, None
                readonly: True

            Button:
                size_hint: None, None
                height: 40
                text: 'Choose Path'
                on_release: root.controller.on_choose_path_button_release(self)

        BoxLayout:  # Divider
            BoxLayout:  # First column
                orientation: 'vertical'

                Label:
                    size_hint_y: None
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    height: 60
                    text: 'Seed mods:'

                # Seeding mods radio buttons
                BoxLayout:
                    size_hint_y: None
                    height: 30
                    SeedingCheckBox:
                        id: sbox_always
                        seeding_type: 'always'
                    SeedingLabel:
                        text: 'Always'

                BoxLayout:
                    size_hint_y: None
                    height: 30
                    SeedingCheckBox:
                        id: sbox_while_not_playing
                        seeding_type: 'while_not_playing'
                    SeedingLabel:
                        text: 'While not playing'

                BoxLayout:
                    size_hint_y: None
                    height: 30
                    SeedingCheckBox:
                        id: sbox_never
                        seeding_type: 'never'
                    SeedingLabel:
                        text: 'Never'

                Label:  # Seeding message to users
                    size_hint_y: None
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    height: 100
                    text: '[i]Note: Seeding (uploading mods to other players) helps us tremendously.\nWe don\'t have infinite bandwidth and by sharing yours you can help us speed up the downloads for everyone.\nSharing is caring :)[/i]'
                    markup: True

                BoxLayout:  # Upload speed
                    orientation: 'horizontal'
                    height: 50
                    size_hint: 1, None
                    SpeedLabel:
                        text: 'Max upload speed:'
                    SpeedInput:
                        id: max_upload_speed_input
                    Label:
                        width: 10
                        size_hint_x: None
                    SpeedLabel:
                        text: 'KB/s   (0 = unlimited)'

                BoxLayout:  # Download speed
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 50
                    SpeedLabel:
                        text: 'Max download speed:'
                    SpeedInput:
                        id: max_download_speed_input
                    Label:
                        width: 10
                        size_hint_x: None
                    SpeedLabel:
                        text: 'KB/s   (0 = unlimited)'

                Widget:  # To move everything to the top

            BoxLayout:  # Second column
                orientation: 'vertical'
